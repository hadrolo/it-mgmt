<ng-template #modalUserprofile>
    <div mat-dialog-content>
        <div class="modal-delete__title">
            <i class="fa fa-circle-user text-success"></i> {{'FW.USER.PROFILE' | translate}}
        </div>
        <div class="modal-content pt-2">
            <form [formGroup]="userForm" class="form">
                <div class="">
                    <label>{{ 'FW.USER.USERNAME' | translate}}</label>
                    <input class="form-control form-control-sm" type="text" formControlName="username" autocomplete="off">
                </div>

                <div class="">
                    <label>{{ 'FW.USER.USERTYPE' | translate}}</label>
                    <input class="form-control form-control-sm" type="text" formControlName="app_usertype" autocomplete="off">
                </div>

                <div class="row">
                    <div class="col-md-6">
                            <label>{{ 'FW.USER.FIRSTNAME' | translate}}</label>
                            <input class="form-control form-control-sm validation-field" type="text" formControlName="firstname" autocomplete="off">
                            <small class="text-danger" *ngIf="userForm.controls.firstname.touched">
                                <span class="text-danger" *ngIf="userForm.controls.firstname.errors?.required">{{ 'FW.FORM.INPUT_REQUIRED' | translate}}</span>
                            </small>
                    </div>
                    <div class="col-md-6">
                            <label>{{ 'FW.USER.LASTNAME' | translate}}</label>
                            <input class="form-control form-control-sm validation-field" type="text" formControlName="lastname" autocomplete="off">
                            <small class="text-danger" *ngIf="userForm.controls.lastname.touched">
                                <span class="text-danger" *ngIf="userForm.controls.lastname.errors?.required">{{ 'FW.FORM.INPUT_REQUIRED' | translate}}</span>
                            </small>
                    </div>
                </div>

                <div class="">
                    <label>{{ 'FW.USER.EMAIL' | translate}}</label>
                    <input class="form-control form-control-sm validation-field" type="text" formControlName="email" autocomplete="off">
                    <small class="text-danger" *ngIf="userForm.controls.email.errors?.email">{{ 'FW.FORM.INVALID_MAIL_ADDRESS' | translate}}</small>
                </div>

                <ng-container *ngIf="view.status.formType === fwFormType.EDIT">
                    <ng-container *ngIf="view.status.changePassword">
                            <label>{{ 'FW.USER.PASSWORD' | translate}}</label>
                            <input class="form-control form-control-sm" type="password" formControlName="password" minlength="6" autocomplete="off" required>
                            <small class="text-danger" *ngIf="userForm.controls.password.touched && userForm.controls.password.errors?.required">{{ 'FW.FORM.INPUT_REQUIRED' | translate}}</small>
                            <small class="text-danger" *ngIf="userForm.controls.password.errors?.minlength">{{ 'FW.USER.PW_TO_SHORT' | translate}}</small>
                        <div class="pt-1">
                                <label>{{ 'FW.USER.PASSWORD_REPEAT' | translate }}</label>
                                <input class="form-control form-control-sm" type="password" formControlName="confirmPassword" autocomplete="off" required>
                                <small class="text-danger" *ngIf="userForm.controls.confirmPassword.errors?.nomatch">{{ 'FW.USER.PW_NOT_MATCH' | translate}}</small>
                            </div>
                    </ng-container>
                    <ng-container *ngIf="!view.status.changePassword">
                        <button class="btn btn-secondary btn-sm" type="submit" (click)="changePassword()"><i class="fa fa-key"></i> {{ 'FW.USER.CHANGE_PASSWORD' | translate}}</button>
                    </ng-container>
                </ng-container>
            </form>
        </div>

        <div class="row pt-3">
            <div class="col">
                <button *ngIf="view.status.formType === fwFormType.VIEW" type="button" class="btn btn-success me-2" (click)="switchToEdit()">{{'FW.BUTTON.EDIT' | translate}}</button>
                <button *ngIf="view.status.formType === fwFormType.EDIT" type="button" class="btn btn-secondary" (click)="cancelEdit()">{{'FW.BUTTON.CANCEL' | translate}}</button>

            </div>
            <div class="col text-end">
                <button *ngIf="view.status.formType === fwFormType.VIEW" type="button" class="btn btn-secondary me-2" (click)="cancelEdit()"
                        mat-dialog-close>{{'FW.BUTTON.CANCEL' | translate}}</button>
                <button *ngIf="view.status.formType === fwFormType.EDIT" type="button" class="btn btn-success" (click)="updateUser()">{{'FW.BUTTON.SAVE' | translate}}</button>

            </div>
        </div>
    </div>
</ng-template>
